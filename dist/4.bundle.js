webpackJsonp([4],{

/***/ 144:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _componentsLoadingPage = __webpack_require__(136);\n\nvar _componentsLoadingPage2 = _interopRequireDefault(_componentsLoadingPage);\n\nvar _reactRouter = __webpack_require__(10);\n\nvar _jsCookie = __webpack_require__(12);\n\nvar Cookies = _interopRequireWildcard(_jsCookie);\n\nvar Admin = _react2['default'].createClass({\n  displayName: 'Admin',\n\n  componentDidMount: function componentDidMount() {},\n\n  componentWillMount: function componentWillMount() {\n    if (!this.props.auth.login) {\n      this.props.func.checkToken();\n    } else if (Cookies.get('type') == 'user') {\n      alert('權限不足');\n      _reactRouter.browserHistory.push('/');\n    }\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    if (newProps.auth.login) this.render();else _reactRouter.browserHistory.push('/login');\n  },\n\n  childProps: function childProps(name) {\n    var obj = {\n      auth: this.props.auth,\n      manage: this.props.manage,\n      func: this.props.func\n    };\n    return obj;\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var childrenWithProps = _react2['default'].Children.map(this.props.children, function (child) {\n      return _react2['default'].cloneElement(child, _this.childProps(child.type.displayName));\n    });\n\n    if (!this.props.auth.login) return _react2['default'].createElement(_componentsLoadingPage2['default'], null);else return _react2['default'].createElement(\n      'div',\n      null,\n      childrenWithProps\n    );\n  }\n});\n\nmodule.exports = Admin;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlcy9BZG1pbi9jb21wb25lbnRzL0FkbWluLmpzPzg2M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExvYWRpbmdQYWdlIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvTG9hZGluZ1BhZ2UnXG5pbXBvcnQgeyBicm93c2VySGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCAqIGFzIENvb2tpZXMgZnJvbSAnanMtY29va2llJ1xuXG5jb25zdCBBZG1pbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGlmKCF0aGlzLnByb3BzLmF1dGgubG9naW4pe1xuICAgICAgdGhpcy5wcm9wcy5mdW5jLmNoZWNrVG9rZW4oKTtcbiAgICB9XG4gICAgZWxzZSBpZihDb29raWVzLmdldCgndHlwZScpPT0ndXNlcicpe1xuICAgICAgYWxlcnQoJ+asiumZkOS4jei2sycpO1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnLycpO1xuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7XG4gICAgaWYobmV3UHJvcHMuYXV0aC5sb2dpbilcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgZWxzZVxuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnL2xvZ2luJyk7XG4gIH0sXG5cbiAgY2hpbGRQcm9wcyhuYW1lKSB7XG4gICAgbGV0IG9iaiA9IHtcbiAgICAgIGF1dGg6IHRoaXMucHJvcHMuYXV0aCxcbiAgICAgIG1hbmFnZTogdGhpcy5wcm9wcy5tYW5hZ2UsXG4gICAgICBmdW5jOiB0aGlzLnByb3BzLmZ1bmMsXG4gICAgfTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY2hpbGRyZW5XaXRoUHJvcHMgPSBSZWFjdC5DaGlsZHJlbi5tYXAodGhpcy5wcm9wcy5jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB0aGlzLmNoaWxkUHJvcHMoY2hpbGQudHlwZS5kaXNwbGF5TmFtZSkpO1xuICAgIH0pXG5cbiAgICBpZighdGhpcy5wcm9wcy5hdXRoLmxvZ2luKVxuICAgICAgcmV0dXJuKFxuICAgICAgICA8TG9hZGluZ1BhZ2UvPlxuICAgICAgKVxuICAgIGVsc2VcbiAgICAgIHJldHVybihcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7IGNoaWxkcmVuV2l0aFByb3BzIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQWRtaW47XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yb3V0ZXMvQWRtaW4vY29tcG9uZW50cy9BZG1pbi5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

});